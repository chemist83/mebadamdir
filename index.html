<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Neon Quantum Shells</title>
    <style>
        body { margin: 0; overflow: hidden; background: #050505; font-family: sans-serif; }
        #info { position: absolute; top: 20px; left: 20px; color: white; background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; border: 1px solid #444; }
        .label { display: flex; align-items: center; margin-bottom: 5px; font-size: 0.9em; }
        .dot { width: 12px; height: 12px; border-radius: 50%; margin-right: 10px; }
    </style>
</head>
<body>

<div id="info">
    <h3 style="margin:0 0 10px 0;">Neon ($1s^2 2s^2 2p^6$)</h3>
    <div class="label"><div class="dot" style="background:cyan"></div> 1s Orbital (Inner)</div>
    <div class="label"><div class="dot" style="background:magenta"></div> 2s Orbital (Outer Sphere)</div>
    <div class="label"><div class="dot" style="background:yellow"></div> 2p<sub>x,y,z</sub> Orbitals (Dumbbells)</div>
    <p style="font-size:0.8em; color:#aaa;">Rotating to show symmetry</p>
</div>

<script type="importmap">
    { "imports": { "three": "https://unpkg.com/three@0.160.0/build/three.module.js" } }
</script>

<script type="module">
    import * as THREE from 'three';

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.set(3, 3, 5);

    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    const light = new THREE.PointLight(0xffffff, 100);
    light.position.set(5, 5, 5);
    scene.add(light, new THREE.AmbientLight(0xffffff, 0.3));

    const atomGroup = new THREE.Group();
    scene.add(atomGroup);

    // --- ORBITAL CREATION FUNCTIONS ---

    function makeSphere(radius, color, opacity) {
        const geo = new THREE.SphereGeometry(radius, 64, 64);
        const mat = new THREE.MeshStandardMaterial({ 
            color: color, 
            transparent: true, 
            opacity: opacity,
            side: THREE.DoubleSide
        });
        return new THREE.Mesh(geo, mat);
    }

    function makeDumbbell(axis, color) {
        const group = new THREE.Group();
        const lobeGeo = new THREE.SphereGeometry(0.8, 32, 32);
        const mat = new THREE.MeshStandardMaterial({ 
            color: color, 
            transparent: true, 
            opacity: 0.4,
            emissive: color,
            emissiveIntensity: 0.5
        });

        const lobe1 = new THREE.Mesh(lobeGeo, mat);
        const lobe2 = new THREE.Mesh(lobeGeo, mat);

        // Stretch and position lobes to look like p-orbital "pears"
        lobe1.scale.set(0.8, 1.5, 0.8);
        lobe2.scale.set(0.8, 1.5, 0.8);
        
        lobe1.position.y = 0.9;
        lobe2.position.y = -0.9;

        group.add(lobe1, lobe2);

        if (axis === 'x') group.rotation.z = Math.PI / 2;
        if (axis === 'z') group.rotation.x = Math.PI / 2;

        return group;
    }

    // --- ADD NEON'S "GATHERED" ORBITALS ---

    // 1. Nucleus
    const nucleus = new THREE.Mesh(new THREE.SphereGeometry(0.2, 16, 16), new THREE.MeshBasicMaterial({color: 'white'}));
    atomGroup.add(nucleus);

    // 2. 1s Orbital (Inner core)
    atomGroup.add(makeSphere(0.6, 0x00ffff, 0.8));

    // 3. 2s Orbital (Larger sphere)
    atomGroup.add(makeSphere(1.8, 0xff00ff, 0.2));

    // 4. 2p Orbitals (x, y, z)
    atomGroup.add(makeDumbbell('x', 0xffff00));
    atomGroup.add(makeDumbbell('y', 0xffff00));
    atomGroup.add(makeDumbbell('z', 0xffff00));

    function animate() {
        requestAnimationFrame(animate);
        atomGroup.rotation.y += 0.01;
        atomGroup.rotation.x += 0.005;
        renderer.render(scene, camera);
    }
    animate();

    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });
</script>
</body>
</html>
